// app shared code

function addDefaultMutations(actions, mutations) {
  for (let k in mutations) {
    if (!actions.hasOwnProperty(k)) {
      actions[k] = ({ commit }, s) => {
        commit(k, s)
      }
    }
  }
}

const db = {
  set(name, value) {
    if (!name) {
      return
    }
    if (typeof value !== "string") {
      value = JSON.stringify(value)
    }
    window.localStorage.setItem(name, value)
  },
  get(name) {
    if (!name) {
      return
    }
    window.localStorage.getItem(name)
  },
  remove(name) {
    if (!name) {
      return
    }
    window.localStorage.removeItem(name)
  },
  clear() {
    window.localStorage.clear()
  },
}

module.exports = {
  addDefaultMutations,
  db,
}
